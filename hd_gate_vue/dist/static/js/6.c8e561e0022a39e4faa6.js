webpackJsonp([6,20],{"3Kuo":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("mvHQ"),s=r.n(o),l={name:"resourceForm",props:{},data:function(){return{resourceForm:{resourceType:"m"},state:!0,type:"m",visible:!1,loading:!1,flag:"init"}},methods:{show:function(e,t){this.visible=!0,"add"===e?this.flag="add":(this.flag="update",this.resourceForm=JSON.parse(s()(t)),this.resourceForm.oldUserName=this.resourceForm.userName,this.resourceForm.oldAccount=this.resourceForm.account,"open"===this.resourceForm.state?this.state=!0:this.state=!1)},submit:function(){this.$axios.get("/hdGate/resourceController/addOrUpdateResource",{params:{resourceForm:this.resourceForm,state:this.state}}).then(function(e){console.log("submit success")},function(e){console.log("error")}),this.visible=!1,this.deptForm={},location.reload()},cancle:function(){this.visible=!1,this.resourceForm={},this.flag="init"}}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"编辑",visible:e.visible,width:"60%"},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{attrs:{"label-width":"100px",model:e.resourceForm}},[r("el-row",[r("el-col",{attrs:{span:12,xs:16}},[r("el-form-item",{attrs:{label:"名称:",prop:"label",rules:[{required:!0,message:"此处必填",trigger:"blur"},{max:200,message:"输入非法",trigger:"blur"}]}},[r("el-input",{attrs:{type:"text"},model:{value:e.resourceForm.label,callback:function(t){e.$set(e.resourceForm,"label",t)},expression:"resourceForm.label"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8,xs:16}},[r("el-form-item",{attrs:{label:"图标:",prop:"icon",rules:[{max:100,message:"输入非法",trigger:"blur"}]}},[r("el-input",{attrs:{type:"text"},model:{value:e.resourceForm.icon,callback:function(t){e.$set(e.resourceForm,"icon",t)},expression:"resourceForm.icon"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:20,xs:16}},[r("el-form-item",{attrs:{label:"描述:",prop:"describe",rules:[{max:255,message:"输入非法",trigger:"blur"}]}},[r("el-input",{attrs:{type:"text"},model:{value:e.resourceForm.describe,callback:function(t){e.$set(e.resourceForm,"describe",t)},expression:"resourceForm.describe"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,xs:16}},[r("el-form-item",{attrs:{label:"对应名称:",prop:"url",rules:[{max:255,message:"输入非法",trigger:"blur"}]}},[r("el-input",{attrs:{type:"text"},model:{value:e.resourceForm.name,callback:function(t){e.$set(e.resourceForm,"name",t)},expression:"resourceForm.name"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8,xs:16}},[r("el-form-item",{attrs:{label:"资源类型:"}},[r("el-radio-group",{model:{value:e.resourceForm.resourceType,callback:function(t){e.$set(e.resourceForm,"resourceType",t)},expression:"resourceForm.resourceType"}},[r("el-radio-button",{attrs:{label:"m"}},[e._v("菜单")]),e._v(" "),r("el-radio-button",{attrs:{label:"b"}},[e._v("按钮")])],1)],1)],1),e._v(" "),r("el-col",{attrs:{span:7,xs:16}},[r("el-form-item",{attrs:{label:"排序:",prop:"sortNo",rules:[{max:100,message:"输入非法",trigger:"blur"}]}},[r("el-input",{attrs:{type:"text"},model:{value:e.resourceForm.sortNo,callback:function(t){e.$set(e.resourceForm,"sortNo",t)},expression:"resourceForm.sortNo"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8,xs:16}},[r("el-form-item",{attrs:{label:"状态:"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancle}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("确定")])],1)],1)},staticRenderFns:[]},i=r("VU/8")(l,a,!1,null,null,null);t.default=i.exports},cULZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=[],s={components:{resourceForm:r("3Kuo").default},data:function(){return{listLoading:!1,tableData:o,flag:!1,parentPerm:{}}},mounted:function(){this.queryAllResources()},methods:{addResource:function(){this.$refs.permForm.show("add",this.parentDept)},updateResources:function(e,t){this.$refs.permForm.show("update",t)},queryAllResources:function(){var e=this;this.$axios.get("/hdGate/resourceController/queryAllResources").then(function(t){e.tableData=t,o.filter(function(e){return!0}).forEach(function(e){o.pop(e)}),t.forEach(function(e){e.edit=!1,"open"===e.state?e.showState=!0:e.showState=!1,o.push(e)})},function(e){console.log("error")})}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-main",[r("div",{staticClass:"filter-container"},[e.hasBtnPerm("resource_add")?r("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.addResource}},[e._v("新增")]):e._e()],1),e._v(" "),r("div",{style:{width:"100%"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[r("el-table-column",{attrs:{fixed:"",width:"150px",align:"center",prop:"label",label:"显示名称"}}),e._v(" "),r("el-table-column",{attrs:{width:"250px",align:"center",prop:"describe",label:"描述"}}),e._v(" "),r("el-table-column",{attrs:{width:"150px",align:"center",prop:"icon",label:"图标"}}),e._v(" "),r("el-table-column",{attrs:{width:"100px",align:"center",prop:"name",label:"对应名称"}}),e._v(" "),r("el-table-column",{attrs:{width:"80px",align:"center",prop:"resourceType",label:"资源类型"},scopedSlots:e._u([{key:"default",fn:function(t){return["m"===t.row.resourceType?r("span",[e._v("菜单")]):r("span",[e._v("按钮")])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"80px",align:"center",prop:"sortNo",label:"排序"}}),e._v(" "),r("el-table-column",{attrs:{width:"100px",align:"center",prop:"state",label:"使用状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.row.showState,callback:function(r){e.$set(t.row,"showState",r)},expression:"scope.row.showState"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasBtnPerm("resource_update")?r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(r){e.updateResources(t.$index,t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1)]),e._v(" "),r("resource-form",{ref:"permForm"})],1)},staticRenderFns:[]},a=r("VU/8")(s,l,!1,null,null,null);t.default=a.exports}});